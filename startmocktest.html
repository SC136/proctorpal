<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Exam Monitoring</title>
    <link rel="stylesheet" href="styles4.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Guide Section -->
    <div class="guide-container" id="guideSection">
        <h1>Platform Guide</h1>
        <div class="guide-content">
            <h2>Important Instructions</h2>
            <ul>
                <li>Ensure stable internet connection</li>
                <li>Use latest Chrome/Firefox browser</li>
                <li>Enable camera permissions</li>
                <li>Don't switch tabs during exam</li>
                <li>Maintain proper lighting</li>
                <li>Copy/Paste is not allowed</li>
                <li>Right-click is disabled during exam</li>
                <li>Multiple tab switches will affect trust score</li>
                <li>Maintain proper face visibility</li>
            </ul>
            <button id="startLoginBtn">Proceed to Login</button>
        </div>
    </div>

    <!-- Login Section -->
    <div class="login-container hidden" id="loginSection">
        <h1>Student Login</h1>
        <div class="login-form">
            <input type="text" id="aadharInput" placeholder="Enter Aadhar Number" maxlength="12">
            <button id="getOtpBtn">Get OTP</button>
            <div id="otpSection" class="hidden">
                <input type="text" id="otpInput" placeholder="Enter OTP" maxlength="6">
                <button id="resendOtpBtn">Resend OTP</button>
                <button id="loginBtn">Login</button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard hidden" id="dashboardSection">
        <h1>Student Dashboard</h1>
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Upcoming Exams</h3>
                <p>Mock Test 1</p>
                <button id="startExamBtn">Start Exam</button>
            </div>
            <div class="dashboard-card">
                <h3>Previous Results</h3>
                <p>No previous attempts</p>
            </div>
            <div class="dashboard-card">
                <h3>System Check</h3>
                <button id="runSystemCheck">Run Diagnostics</button>
            </div>
        </div>
    </div>

    <!-- Exam Section -->
    <div class="exam-container hidden" id="examSection">
        <div class="exam-header">
            <div class="exam-metrics">
                <span id="examTimer">Time Remaining: 30:00</span>
                <span id="trustScore">Trust Score: 100%</span>
            </div>
            <div class="monitoring-metrics">
                <span id="copyPasteCount">Copy/Paste: 0/10</span>
                <span id="tabSwitchCount">Tab Switches: 0</span>
                <span id="mouseClickCount">Mouse Clicks: 0/5</span>
            </div>
        </div>
        <div class="exam-content">
            <h2>Mock Test 1</h2>
            <div class="question">
                <p>1. What is the capital of France?</p>
                <div class="options">
                    <label><input type="radio" name="q1" value="paris">Paris</label>
                    <label><input type="radio" name="q1" value="london">London</label>
                    <label><input type="radio" name="q1" value="berlin">Berlin</label>
                </div>
            </div>
            <button id="submitExam">Submit Exam</button>
        </div>
    </div>

    <!-- Report Section -->
    <div class="report-container hidden" id="reportSection">
        <h2>Exam Report</h2>
        <div class="report-content">
            <div class="trust-metrics">
                <h3>Trust Score Analysis</h3>
                <div id="trustMetrics"></div>
            </div>
            <div class="exam-results">
                <h3>Exam Results</h3>
                <div id="examResults"></div>
            </div>
            <div class="monitoring-results">
                <h3>Monitoring Details</h3>
                <div id="monitoringMetrics"></div>
            </div>
            <button id="returnToDashboard">Return to Dashboard</button>
        </div>
    </div>

    <!-- Monitoring Section -->
    <div class="monitoring hidden" id="monitoringSection">
        <video id="webcam" autoplay playsinline></video>
        <canvas id="output" class="d-none"></canvas>
        <p id="status">Initializing...</p>
    </div>

    <div id="cameraCheckModal" class="camera-check-modal hidden">
        <div class="modal-content">
            <h2>Camera Check</h2>
            <p>Please ensure you are visible in the camera</p>
            <video id="cameraCheck" autoplay playsinline></video>
            <div class="modal-buttons">
                <button id="startExamWithCameraBtn">Start Exam</button>
            </div>
        </div>
    </div>

    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p>Loading...</p>
    </div>

    <script src="script3.js"></script>
</body>
</html>